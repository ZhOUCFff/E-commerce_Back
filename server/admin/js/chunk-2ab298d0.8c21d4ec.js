(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab298d0"],{"25f0":function(e,t,r){"use strict";var o=r("6eeb"),a=r("825a"),s=r("d039"),n=r("ad6d"),i="toString",c=RegExp.prototype,d=c[i],u=s((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),l=d.name!=i;(u||l)&&o(RegExp.prototype,i,(function(){var e=a(this),t=String(e.source),r=e.flags,o=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?n.call(e):r);return"/"+t+"/"+o}),{unsafe:!0})},"4d63":function(e,t,r){var o=r("83ab"),a=r("da84"),s=r("94ca"),n=r("7156"),i=r("9bf2").f,c=r("241c").f,d=r("44e7"),u=r("ad6d"),l=r("9f7f"),g=r("6eeb"),p=r("d039"),f=r("69f3").set,m=r("2626"),h=r("b622"),b=h("match"),v=a.RegExp,_=v.prototype,x=/a/g,G=/a/g,w=new v(x)!==x,y=l.UNSUPPORTED_Y,k=o&&s("RegExp",!w||y||p((function(){return G[b]=!1,v(x)!=x||v(G)==G||"/a/i"!=v(x,"i")})));if(k){var F=function(e,t){var r,o=this instanceof F,a=d(e),s=void 0===t;if(!o&&a&&e.constructor===F&&s)return e;w?a&&!s&&(e=e.source):e instanceof F&&(s&&(t=u.call(e)),e=e.source),y&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var i=n(w?new v(e,t):v(e,t),o?this:_,F);return y&&r&&f(i,{sticky:r}),i},R=function(e){e in F||i(F,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},E=c(v),$=0;while(E.length>$)R(E[$++]);_.constructor=F,F.prototype=_,g(a,"RegExp",F)}m("RegExp")},5319:function(e,t,r){"use strict";var o=r("d784"),a=r("825a"),s=r("7b0b"),n=r("50c4"),i=r("a691"),c=r("1d80"),d=r("8aa5"),u=r("14c3"),l=Math.max,g=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};o("replace",2,(function(e,t,r,o){return[function(r,o){var a=c(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,a,o):t.call(String(a),r,o)},function(e,s){if(o.REPLACE_KEEPS_$0||"string"===typeof s&&-1===s.indexOf("$0")){var c=r(t,e,this,s);if(c.done)return c.value}var p=a(e),f=String(this),m="function"===typeof s;m||(s=String(s));var v=p.global;if(v){var _=p.unicode;p.lastIndex=0}var x=[];while(1){var G=u(p,f);if(null===G)break;if(x.push(G),!v)break;var w=String(G[0]);""===w&&(p.lastIndex=d(f,n(p.lastIndex),_))}for(var y="",k=0,F=0;F<x.length;F++){G=x[F];for(var R=String(G[0]),E=l(g(i(G.index),f.length),0),$=[],L=1;L<G.length;L++)$.push(h(G[L]));var I=G.groups;if(m){var S=[R].concat($,E,f);void 0!==I&&S.push(I);var N=String(s.apply(void 0,S))}else N=b(R,f,E,$,I,s);E>=k&&(y+=f.slice(k,E)+N,k=E+R.length)}return y+f.slice(k)}];function b(e,r,o,a,n,i){var c=o+e.length,d=a.length,u=m;return void 0!==n&&(n=s(n),u=f),t.call(i,u,(function(t,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,o);case"'":return r.slice(c);case"<":i=n[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>d){var l=p(u/10);return 0===l?t:l<=d?void 0===a[l-1]?s.charAt(1):a[l-1]+s.charAt(1):t}i=a[u-1]}return void 0===i?"":i}))}}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var o=r("1d80"),a=r("5899"),s="["+a+"]",n=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(e){return function(t){var r=String(o(t));return 1&e&&(r=r.replace(n,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var o=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var s,n;return a&&"function"==typeof(s=t.constructor)&&s!==r&&o(n=s.prototype)&&n!==r.prototype&&a(e,n),e}},"90b9":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("4d63"),r("ac1f"),r("25f0"),r("5319");function o(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1)));var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var o in r)if(new RegExp("(".concat(o,")")).test(t)){var s=r[o]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:a(s))}return t}function a(e){return("00"+e).substr(e.length)}},a9e3:function(e,t,r){"use strict";var o=r("83ab"),a=r("da84"),s=r("94ca"),n=r("6eeb"),i=r("5135"),c=r("c6b6"),d=r("7156"),u=r("c04e"),l=r("d039"),g=r("7c73"),p=r("241c").f,f=r("06cf").f,m=r("9bf2").f,h=r("58a8").trim,b="Number",v=a[b],_=v.prototype,x=c(g(_))==b,G=function(e){var t,r,o,a,s,n,i,c,d=u(e,!1);if("string"==typeof d&&d.length>2)if(d=h(d),t=d.charCodeAt(0),43===t||45===t){if(r=d.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+d}for(s=d.slice(2),n=s.length,i=0;i<n;i++)if(c=s.charCodeAt(i),c<48||c>a)return NaN;return parseInt(s,o)}return+d};if(s(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,y=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof y&&(x?l((function(){_.valueOf.call(r)})):c(r)!=b)?d(new v(G(t)),r,y):G(t)},k=o?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;k.length>F;F++)i(v,w=k[F])&&!i(y,w)&&m(y,w,f(v,w));y.prototype=_,_.constructor=y,n(a,b,y)}},d77f:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("商品管理")]),r("el-breadcrumb-item",[e._v("商品列表")])],1),r("el-card",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:e.clearSearch},model:{value:e.goodsListParams.query,callback:function(t){e.$set(e.goodsListParams,"query",t)},expression:"goodsListParams.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchGoods},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.addGoods}},[e._v("添加商品")])],1)],1),r("el-table",{attrs:{data:e.goodsList,stripe:"",border:""}},[r("el-table-column",{attrs:{label:"序号",type:"index"}}),r("el-table-column",{attrs:{label:"商品名称",prop:"goods_name"}}),r("el-table-column",{attrs:{label:"商品价格",prop:"goods_price",width:"100px"}}),r("el-table-column",{attrs:{label:"商品重量",prop:"goods_weight",width:"100px"}}),r("el-table-column",{attrs:{label:"创建时间",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("getDate")(t.row.add_time)))])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.editGoodsClick(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.deleteGoods(t.row.goods_id)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.goodsListParams.pagenum,"page-sizes":[5,8,10],"page-size":e.goodsListParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pagesizeChange,"current-change":e.pagenumChange}})],1),r("el-dialog",{attrs:{title:"编辑商品信息",visible:e.editGoodsDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editGoodsDialogVisible=t},close:e.editGoodsDialogClose}},[r("el-form",{ref:"editGoodsFormRef",attrs:{model:e.editGoodsForm,rules:e.editGoodsRules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[r("el-input",{model:{value:e.editGoodsForm.goods_name,callback:function(t){e.$set(e.editGoodsForm,"goods_name","string"===typeof t?t.trim():t)},expression:"editGoodsForm.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[r("el-input",{attrs:{type:"number"},model:{value:e.editGoodsForm.goods_price,callback:function(t){e.$set(e.editGoodsForm,"goods_price",t)},expression:"editGoodsForm.goods_price"}})],1),r("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[r("el-input",{attrs:{type:"number"},model:{value:e.editGoodsForm.goods_number,callback:function(t){e.$set(e.editGoodsForm,"goods_number",t)},expression:"editGoodsForm.goods_number"}})],1),r("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[r("el-input",{attrs:{type:"number"},model:{value:e.editGoodsForm.goods_weight,callback:function(t){e.$set(e.editGoodsForm,"goods_weight",t)},expression:"editGoodsForm.goods_weight"}})],1),r("el-form-item",{attrs:{label:"商品分类",prop:"goods_cat"}},[r("el-cascader",{attrs:{options:e.cateList,props:e.cateProps,clearable:"",size:"mini"},model:{value:e.editGoodsForm.goods_cat,callback:function(t){e.$set(e.editGoodsForm,"goods_cat",t)},expression:"editGoodsForm.goods_cat"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editGoodsDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editGoods}},[e._v("确 定")])],1)],1)],1)},a=[],s=(r("a15b"),r("d81d"),r("a9e3"),r("ac1f"),r("1276"),r("96cf"),r("1da1")),n=r("735b"),i=r("90b9"),c={name:"Goods",data:function(){return{goodsListParams:{query:"",pagenum:1,pagesize:10},total:0,goodsList:[],editGoodsDialogVisible:!1,editGoodsForm:{},editGoodsRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}]},goodsId:"",cateProps:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"},cateList:[]}},filters:{getDate:function(e){var t=new Date(e);return Object(i["a"])(t,"yyyy-MM-dd hh:mm:ss")}},methods:{getCategories:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["w"])();case 2:if(t=e.sent,200===t.meta.status){e.next=5;break}return e.abrupt("return");case 5:this.cateList=t.data;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getGoodsList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["x"])(this.goodsListParams);case 2:if(t=e.sent,200===t.meta.status){e.next=5;break}return e.abrupt("return");case 5:this.total=t.data.total,this.goodsList=t.data.goods;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),pagesizeChange:function(e){this.goodsListParams.pagesize=e,this.getGoodsList()},pagenumChange:function(e){this.goodsListParams.pagenum=e,this.getGoodsList()},searchGoods:function(){this.getGoodsList()},clearSearch:function(){this.getGoodsList()},deleteGoods:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return e.next=5,Object(n["h"])(t);case 5:if(r=e.sent,200===r.meta.status){e.next=8;break}return e.abrupt("return",this.$msg.error("商品删除失败"));case 8:this.$msg.success("商品删除成功"),this.getGoodsList(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$msg.info("已取消删除");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}(),addGoods:function(){this.$router.push("/goods/add")},editGoodsClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.getCategories(),this.goodsId=t.goods_id,e.next=4,Object(n["r"])(this.goodsId);case 4:if(r=e.sent,200===r.meta.status){e.next=7;break}return e.abrupt("return");case 7:o={goods_name:r.data.goods_name,goods_price:r.data.goods_price,goods_number:r.data.goods_number,goods_weight:r.data.goods_weight,cat_id:r.data.cat_id,goods_cat:r.data.goods_cat.split(",").map(Number)},this.editGoodsForm=o,this.editGoodsDialogVisible=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editGoods:function(){var e=this;this.$refs.editGoodsFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(e.editGoodsForm.goods_cat&&!(e.editGoodsForm.goods_cat.length<3)){t.next=4;break}return t.abrupt("return",e.$msg.error("请选择商品分类"));case 4:return e.editGoodsForm.goods_cat=e.editGoodsForm.goods_cat.join(","),t.next=7,Object(n["n"])(e.goodsId,e.editGoodsForm);case 7:if(o=t.sent,200===o.meta.status){t.next=10;break}return t.abrupt("return",e.$msg.error(o.msg||"商品信息编辑成功"));case 10:e.$msg.success("商品信息编辑成功"),e.getGoodsList(),e.editGoodsDialogVisible=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editGoodsDialogClose:function(){this.$refs.editGoodsFormRef.resetFields()}},created:function(){this.getGoodsList()}},d=c,u=r("2877"),l=Object(u["a"])(d,o,a,!1,null,"2aa87162",null);t["default"]=l.exports},d81d:function(e,t,r){"use strict";var o=r("23e7"),a=r("b727").map,s=r("d039"),n=r("1dde"),i=n("map"),c=i&&!s((function(){[].map.call({length:-1,0:1},(function(e){throw e}))}));o({target:"Array",proto:!0,forced:!i||!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2ab298d0.8c21d4ec.js.map