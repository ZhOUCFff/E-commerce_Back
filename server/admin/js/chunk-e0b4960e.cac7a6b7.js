(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0b4960e"],{"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),s=r("60ae"),i=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),s=r("b622"),i=s("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"735b":function(e,t,r){"use strict";r.d(t,"D",(function(){return a})),r.d(t,"H",(function(){return s})),r.d(t,"F",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"q",(function(){return u})),r.d(t,"E",(function(){return c})),r.d(t,"l",(function(){return l})),r.d(t,"B",(function(){return f})),r.d(t,"C",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"f",(function(){return p})),r.d(t,"G",(function(){return d})),r.d(t,"p",(function(){return v})),r.d(t,"k",(function(){return w})),r.d(t,"d",(function(){return h})),r.d(t,"s",(function(){return g})),r.d(t,"w",(function(){return R})),r.d(t,"a",(function(){return k})),r.d(t,"m",(function(){return x})),r.d(t,"g",(function(){return O})),r.d(t,"v",(function(){return y})),r.d(t,"t",(function(){return j})),r.d(t,"c",(function(){return _})),r.d(t,"u",(function(){return $})),r.d(t,"o",(function(){return q})),r.d(t,"i",(function(){return U})),r.d(t,"x",(function(){return F})),r.d(t,"h",(function(){return C})),r.d(t,"b",(function(){return L})),r.d(t,"r",(function(){return D})),r.d(t,"n",(function(){return V})),r.d(t,"z",(function(){return z})),r.d(t,"y",(function(){return E})),r.d(t,"A",(function(){return A}));r("99af");var n=r("1bab");function a(){return Object(n["a"])({url:"/menus"})}function s(e){return Object(n["a"])({url:"/users",params:e})}function i(e,t){return Object(n["a"])({url:"users/".concat(e,"/state/").concat(t),method:"put"})}function o(e){return Object(n["a"])({url:"/users",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/users/".concat(e)})}function c(e,t,r){return Object(n["a"])({url:"/users/".concat(e),method:"put",data:{email:t,mobile:r}})}function l(e){return Object(n["a"])({url:"/users/".concat(e),method:"delete"})}function d(e,t){return Object(n["a"])({url:"/users/".concat(e,"/role"),method:"put",data:{rid:t}})}function f(e){return Object(n["a"])({url:"/rights/".concat(e)})}function m(){return Object(n["a"])({url:"/roles"})}function b(e,t){return Object(n["a"])({url:"/roles/".concat(e,"/rights/").concat(t),method:"delete"})}function p(e,t){return Object(n["a"])({url:"/roles/".concat(e,"/rights"),method:"post",data:{rids:t}})}function h(e){return Object(n["a"])({url:"/roles",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/roles/".concat(e)})}function v(e,t,r){return Object(n["a"])({url:"/roles/".concat(e),method:"put",data:{roleName:t,roleDesc:r}})}function w(e){return Object(n["a"])({url:"/roles/".concat(e),method:"delete"})}function R(e){return Object(n["a"])({url:"/categories",params:e})}function k(e){return Object(n["a"])({url:"/categories",method:"post",data:e})}function j(e){return Object(n["a"])({url:"/categories/".concat(e)})}function x(e,t){return Object(n["a"])({url:"/categories/".concat(e),method:"put",data:{cat_name:t}})}function O(e){return Object(n["a"])({url:"/categories/".concat(e),method:"delete"})}function y(e,t){return Object(n["a"])({url:"/categories/".concat(e,"/attributes"),params:{sel:t}})}function _(e,t,r){return Object(n["a"])({url:"/categories/".concat(e,"/attributes"),method:"post",data:{attr_name:t,attr_sel:r}})}function $(e,t,r){return Object(n["a"])({url:"/categories/".concat(e,"/attributes/").concat(t),params:{attr_sel:r}})}function q(e,t,r,a,s){return Object(n["a"])({url:"/categories/".concat(e,"/attributes/").concat(t),method:"put",data:{attr_name:r,attr_sel:a,attr_vals:s}})}function U(e,t){return Object(n["a"])({url:"/categories/".concat(e,"/attributes/").concat(t),method:"delete"})}function F(e){return Object(n["a"])({url:"/goods",params:e})}function C(e){return Object(n["a"])({url:"/goods/".concat(e),method:"delete"})}function L(e){return Object(n["a"])({url:"/goods",method:"post",data:e})}function D(e){return Object(n["a"])({url:"/goods/".concat(e)})}function V(e,t){return Object(n["a"])({url:"/goods/".concat(e),method:"put",data:t})}function z(e){return Object(n["a"])({url:"/orders",params:e})}function E(){return Object(n["a"])({url:"/kuaidi/1106975712662"})}function A(){return Object(n["a"])({url:"/reports/type/1"})}},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?a.f(e,i,s(0,r)):e[i]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),s=r("e8b5"),i=r("861d"),o=r("7b0b"),u=r("50c4"),c=r("8418"),l=r("65f0"),d=r("1dde"),f=r("b622"),m=r("60ae"),b=f("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",g=m>=51||!a((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),v=d("concat"),w=function(e){if(!i(e))return!1;var t=e[b];return void 0!==t?!!t:s(e)},R=!g||!v;n({target:"Array",proto:!0,forced:R},{concat:function(e){var t,r,n,a,s,i=o(this),d=l(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?i:arguments[t],w(s)){if(a=u(s.length),f+a>p)throw TypeError(h);for(r=0;r<a;r++,f++)r in s&&c(d,f,s[r])}else{if(f>=p)throw TypeError(h);c(d,f++,s)}return d.length=f,d}})},b577:function(e,t,r){"use strict";var n=r("ebd4"),a=r.n(n);a.a},d80b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("el-card",{staticClass:"box-card"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:e.userListReq},model:{value:e.userListReqParams.query,callback:function(t){e.$set(e.userListReqParams,"query",t)},expression:"userListReqParams.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1)]),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加用户")])],1)])],1),r("el-table",{attrs:{data:e.userList,stripe:"",border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号"}}),r("el-table-column",{attrs:{label:"用户名",prop:"username"}}),r("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),r("el-table-column",{attrs:{label:"电话",prop:"mobile"}}),r("el-table-column",{attrs:{label:"角色",prop:"role_name"}}),r("el-table-column",{attrs:{label:"状态",prop:"mg_state"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{on:{change:function(r){return e.changeState(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"175px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(r){return e.showEditDialog(t.row.id)}}}),r("el-button",{attrs:{type:"danger ",size:"mini",icon:"el-icon-delete"},on:{click:function(r){return e.deleteUserClick(t.row.id)}}}),r("el-tooltip",{attrs:{effect:"dark",content:"分配角色",placement:"top","open-delay":1e3,enterable:!1}},[r("el-button",{attrs:{type:"warning ",size:"mini",icon:"el-icon-setting"},on:{click:function(r){return e.setRole(t.row)}}})],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":e.userListReqParams.pagenum,"page-sizes":[1,2,5,10],"page-size":e.userListReqParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加用户",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.resetForm}},[r("el-form",{ref:"addFormRef",attrs:{"status-icon":"",model:e.newUser,rules:e.addUserules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),r("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[r("el-input",{model:{value:e.newUser.mobile,callback:function(t){e.$set(e.newUser,"mobile",t)},expression:"newUser.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addUserClick}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"修改用户信息",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.resetForm}},[r("el-form",{ref:"editFormRef",attrs:{"status-icon":"",model:e.editForm,rules:e.editUserules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{disabled:""},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),r("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[r("el-input",{model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editUserClick}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.setRoleDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setRoleDialogVisible=t},close:e.setRoleDialogClosed}},[r("div",{staticClass:"set-role"},[r("p",[e._v("用户："+e._s(e.user.username))]),r("p",[e._v("角色："+e._s(e.user.role_name))]),r("p",[e._v(" 选择角色： "),r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.setRoleId,callback:function(t){e.setRoleId=t},expression:"setRoleId"}},e._l(e.roleList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setRoleDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.setRoleClick}},[e._v("确 定")])],1)])],1)},a=[],s=(r("96cf"),r("1da1")),i=r("735b"),o={name:"UserList",data:function(){var e=function(e,t,r){var n=/^[a-zA-Z][\w]{2,9}$/;if(n.test(t))return r();r(new Error("请输入合法的用户名"))},t=function(e,t,r){var n=/^[\w.]{6,15}$/;if(n.test(t))return r();r(new Error("请输入合法的密码"))},r=function(e,t,r){var n=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(n.test(t))return r();r(new Error("请输入合法的邮箱"))},n=function(e,t,r){var n=/^1(3|4|5|6|7|8|9)\d{9}$/;if(n.test(t))return r();r(new Error("请输入合法的手机号码"))};return{userListReqParams:{query:"",pagenum:1,pagesize:5},userList:[],total:0,addDialogVisible:!1,editDialogVisible:!1,setRoleDialogVisible:!1,newUser:{username:"",password:"",email:"",mobile:""},addUserules:{username:[{required:!0,message:"请输入要添加的用户名",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱"},{validator:r,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码"},{validator:n,trigger:"blur"}]},editForm:{},editUserules:{email:[{required:!0,message:"请输入邮箱"},{validator:r,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码"},{validator:n,trigger:"blur"}]},user:{},roleList:[],setRoleId:""}},methods:{userListReq:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["H"])(this.userListReqParams);case 2:if(t=e.sent,200===t.meta.status){e.next=5;break}return e.abrupt("return",this.$msg.error(t.meta.msg));case 5:this.userList=t.data.users,this.total=t.data.total;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeState:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["F"])(t.id,t.mg_state);case 2:if(r=e.sent,200===r.meta.status){e.next=6;break}return t.mg_state=!t.mg_state,e.abrupt("return",this.$msg.error(r.meta.msg));case 6:this.$msg.success(r.meta.msg);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addUserReq:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["e"])(this.newUser);case 2:if(t=e.sent,console.log(t),201===t.meta.status){e.next=6;break}return e.abrupt("return",this.$msg.error("添加失败"));case 6:this.$msg.success("添加成功"),this.addDialogVisible=!1,this.userListReq();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveEditUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["E"])(this.editForm.id,this.editForm.email,this.editForm.mobile);case 2:if(t=e.sent,200===t.meta.status){e.next=5;break}return e.abrupt("return",this.$msg.error("编辑失败"));case 5:this.$msg.success("编辑成功"),this.editDialogVisible=!1,this.userListReq();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["l"])(t);case 2:if(r=e.sent,200===r.meta.status){e.next=5;break}return e.abrupt("return",this.$msg.error("删除失败"));case 5:this.$msg.success("删除成功"),this.userListReq();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.userListReqParams.pagesize=e,this.userListReq()},handleCurrentChange:function(e){this.userListReqParams.pagenum=e,this.userListReq()},search:function(){this.userListReq()},resetForm:function(){this.$refs.addFormRef&&this.$refs.addFormRef.resetFields(),this.$refs.editFormRef&&this.$refs.editFormRef.resetFields()},addUserClick:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&e.addUserReq()}))},showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.editDialogVisible=!0,e.next=3,Object(i["q"])(t);case 3:if(r=e.sent,200===r.meta.status){e.next=6;break}return e.abrupt("return",this.$msg.error("请求数据失败"));case 6:this.editForm=r.data;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editUserClick:function(){var e=this;this.$refs.editFormRef.validate((function(t){t&&e.saveEditUser()}))},deleteUserClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:this.deleteUser(t),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$msg.info("已取消删除");case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),setRole:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.user=t,e.next=3,Object(i["C"])();case 3:r=e.sent,this.roleList=r.data,this.setRoleDialogVisible=!0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setRoleClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.setRoleId){e.next=2;break}return e.abrupt("return",this.$msg.error("请选择要分配的角色"));case 2:return e.next=4,Object(i["G"])(this.user.id,this.setRoleId);case 4:if(t=e.sent,200===t.meta.status){e.next=7;break}return e.abrupt("return",this.$msg.error("分配角色失败"));case 7:this.$msg.success("分配角色成功"),this.userListReq(),this.setRoleDialogVisible=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setRoleDialogClosed:function(){this.setRoleId="",this.user={}}},created:function(){this.userListReq()}},u=o,c=(r("b577"),r("2877")),l=Object(c["a"])(u,n,a,!1,null,"200bcd66",null);t["default"]=l.exports},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ebd4:function(e,t,r){}}]);
//# sourceMappingURL=chunk-e0b4960e.cac7a6b7.js.map