{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/sloppy-array-method.js","webpack:///./src/views/home/childCpns/goods/Goods.vue?1cd0","webpack:///src/views/home/childCpns/goods/Goods.vue","webpack:///./src/views/home/childCpns/goods/Goods.vue?95f3","webpack:///./src/views/home/childCpns/goods/Goods.vue"],"names":["$","IndexedObject","toIndexedObject","sloppyArrayMethod","nativeJoin","join","ES3_STRINGS","Object","SLOPPY_METHOD","target","proto","forced","separator","call","this","undefined","fails","module","exports","METHOD_NAME","argument","method","render","_vm","_h","$createElement","_c","_self","attrs","path","_v","on","clearSearch","model","value","goodsListParams","callback","$$v","$set","expression","searchGoods","slot","addGoods","goodsList","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","$event","editGoodsClick","deleteGoods","goods_id","pagenum","pagesize","total","pagesizeChange","pagenumChange","editGoodsDialogVisible","editGoodsDialogClose","ref","editGoodsForm","editGoodsRules","trim","cateList","cateProps","staticClass","editGoods","staticRenderFns","name","data","query","goods_name","required","message","trigger","goods_price","goods_number","goods_weight","goodsId","expandTrigger","label","children","filters","getDate","methods","getGoodsList","$router","push","$refs","editGoodsFormRef","validate","resetFields","created","component"],"mappings":"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","file":"js/chunk-0fa1b363.a491a114.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar SLOPPY_METHOD = sloppyArrayMethod('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || SLOPPY_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索内容\",\"clearable\":\"\"},on:{\"clear\":_vm.clearSearch},model:{value:(_vm.goodsListParams.query),callback:function ($$v) {_vm.$set(_vm.goodsListParams, \"query\", $$v)},expression:\"goodsListParams.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchGoods},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoods}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"getDate\")(scope.row.add_time)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editGoodsClick(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteGoods(scope.row.goods_id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.goodsListParams.pagenum,\"page-sizes\":[5,8,10],\"page-size\":_vm.goodsListParams.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.pagesizeChange,\"current-change\":_vm.pagenumChange}})],1),_c('el-dialog',{attrs:{\"title\":\"编辑商品信息\",\"visible\":_vm.editGoodsDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editGoodsDialogVisible=$event},\"close\":_vm.editGoodsDialogClose}},[_c('el-form',{ref:\"editGoodsFormRef\",attrs:{\"model\":_vm.editGoodsForm,\"rules\":_vm.editGoodsRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.editGoodsForm.goods_name),callback:function ($$v) {_vm.$set(_vm.editGoodsForm, \"goods_name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editGoodsForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editGoodsForm.goods_price),callback:function ($$v) {_vm.$set(_vm.editGoodsForm, \"goods_price\", $$v)},expression:\"editGoodsForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editGoodsForm.goods_number),callback:function ($$v) {_vm.$set(_vm.editGoodsForm, \"goods_number\", $$v)},expression:\"editGoodsForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editGoodsForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.editGoodsForm, \"goods_weight\", $$v)},expression:\"editGoodsForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{attrs:{\"options\":_vm.cateList,\"props\":_vm.cateProps,\"clearable\":\"\"},model:{value:(_vm.editGoodsForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.editGoodsForm, \"goods_cat\", $$v)},expression:\"editGoodsForm.goods_cat\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editGoodsDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editGoods}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 顶部搜索 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            placeholder=\"请输入搜索内容\"\r\n            v-model=\"goodsListParams.query\"\r\n            clearable\r\n            @clear=\"clearSearch\"\r\n          >\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchGoods\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addGoods\">添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 商品列表表格 -->\r\n      <el-table :data=\"goodsList\" stripe border>\r\n        <el-table-column label=\"序号\" type=\"index\"></el-table-column>\r\n        <el-table-column label=\"商品名称\" prop=\"goods_name\"></el-table-column>\r\n        <el-table-column label=\"商品价格\" prop=\"goods_price\" width=\"100px\"></el-table-column>\r\n        <el-table-column label=\"商品重量\" prop=\"goods_weight\" width=\"100px\"></el-table-column>\r\n        <el-table-column label=\"创建时间\" width=\"150px\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{scope.row.add_time | getDate}}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"editGoodsClick(scope.row)\"\r\n            >编辑</el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"deleteGoods(scope.row.goods_id)\"\r\n            >删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @size-change=\"pagesizeChange\"\r\n        @current-change=\"pagenumChange\"\r\n        :current-page=\"goodsListParams.pagenum\"\r\n        :page-sizes=\"[5,8,10]\"\r\n        :page-size=\"goodsListParams.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n    <!-- 编辑商品对话框 -->\r\n    <el-dialog\r\n      title=\"编辑商品信息\"\r\n      :visible.sync=\"editGoodsDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"editGoodsDialogClose\"\r\n    >\r\n      <!-- 编辑商品表单 -->\r\n      <el-form\r\n        :model=\"editGoodsForm\"\r\n        :rules=\"editGoodsRules\"\r\n        ref=\"editGoodsFormRef\"\r\n        label-width=\"80px\"\r\n      >\r\n        <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n          <el-input v-model.trim=\"editGoodsForm.goods_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n          <el-input v-model=\"editGoodsForm.goods_price\" type=\"number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n          <el-input v-model=\"editGoodsForm.goods_number\" type=\"number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n          <el-input v-model=\"editGoodsForm.goods_weight\" type=\"number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n          <el-cascader\r\n            v-model=\"editGoodsForm.goods_cat\"\r\n            :options=\"cateList\"\r\n            :props=\"cateProps\"\r\n            clearable\r\n          ></el-cascader>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editGoodsDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editGoods\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport { getGoodsList, deleteGoods, findGoods, editGoods, getCategories } from 'network/home'\r\nimport { formatDate } from 'common/utils'\r\n\r\nexport default {\r\n  name: \"Goods\",\r\n  data() {\r\n    return {\r\n      ///请求商品列表数据的参数\r\n      goodsListParams: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      //总商品条数\r\n      total: 0,\r\n      // 商品列表数据\r\n      goodsList: [],\r\n      //编辑商品对话框显示隐藏\r\n      editGoodsDialogVisible: false,\r\n      //编辑商品表单数据\r\n      editGoodsForm: {},\r\n      //编辑商品表单规则\r\n      editGoodsRules: {\r\n        goods_name: [{\r\n          required: true,\r\n          message: '请输入商品名称',\r\n          trigger: 'blur'\r\n        }],\r\n        goods_price: [{\r\n          required: true,\r\n          message: '请输入商品价格',\r\n          trigger: 'blur'\r\n        }],\r\n        goods_number: [{\r\n          required: true,\r\n          message: '请输入商品数量',\r\n          trigger: 'blur'\r\n        }],\r\n        goods_weight: [{\r\n          required: true,\r\n          message: '请输入商品重量',\r\n          trigger: 'blur'\r\n        }]\r\n      },\r\n      goodsId: '',\r\n      // 编辑商品对话框级联选择器配置\r\n      cateProps: {\r\n        expandTrigger: 'hover',\r\n        value: 'cat_id',\r\n        label: 'cat_name',\r\n        children: 'children'\r\n      },\r\n      cateList: []\r\n    }\r\n  },\r\n  filters: {\r\n    getDate(value) {\r\n      const date = new Date(value)\r\n      return formatDate(date, 'yyyy-MM-dd hh:mm:ss')\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取商品列表数据\r\n    async getCategories() {\r\n      const res = await getCategories()\r\n      if (res.meta.status !== 200) return\r\n      // console.log(res.data);\r\n      this.cateList = res.data\r\n    },\r\n    //获取商品数据列表\r\n    async getGoodsList() {\r\n      const res = await getGoodsList(this.goodsListParams)\r\n      if (res.meta.status !== 200) return\r\n\r\n      this.total = res.data.total\r\n      this.goodsList = res.data.goods\r\n    },\r\n    //每页显示数量更改\r\n    pagesizeChange(pagesize) {\r\n      this.goodsListParams.pagesize = pagesize\r\n      this.getGoodsList()\r\n    },\r\n    // 页码更改\r\n    pagenumChange(pagenum) {\r\n      this.goodsListParams.pagenum = pagenum\r\n      this.getGoodsList()\r\n    },\r\n    // 搜索商品\r\n    searchGoods() {\r\n      this.getGoodsList()\r\n    },\r\n    //清空搜索框\r\n    clearSearch() {\r\n      this.getGoodsList()\r\n    },\r\n    //点击删除商品按钮\r\n    async deleteGoods(goodsId) {\r\n      try {\r\n        await this.$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        const res = await deleteGoods(goodsId)\r\n        if (res.meta.status !== 200) return this.$msg.error('商品删除失败')\r\n        this.$msg.success('商品删除成功')\r\n        this.getGoodsList()\r\n      } catch (error) {\r\n        this.$msg.info('已取消删除')\r\n      }\r\n    },\r\n    //点击添加商品按钮\r\n    addGoods() {\r\n      this.$router.push('/goods/add')\r\n    },\r\n    //编辑商品\r\n    async editGoodsClick(goods) {\r\n      this.getCategories()\r\n      this.goodsId = goods.goods_id\r\n      const res = await findGoods(this.goodsId)\r\n      if (res.meta.status !== 200) return\r\n      const editGoodsData = {\r\n        goods_name: res.data.goods_name,\r\n        goods_price: res.data.goods_price,\r\n        goods_number: res.data.goods_number,\r\n        goods_weight: res.data.goods_weight,\r\n        cat_id: res.data.cat_id\r\n      }\r\n      this.editGoodsForm = editGoodsData\r\n      this.editGoodsDialogVisible = true\r\n    },\r\n    // 监听编辑商品确定按钮\r\n    editGoods() {\r\n      this.$refs.editGoodsFormRef.validate(async valid => {\r\n\r\n        if (!valid) return\r\n        \r\n        if(this.editGoodsForm.goods_cat) this.editGoodsForm.goods_cat = this.editGoodsForm.goods_cat.join(',')\r\n        \r\n        const res = await editGoods(this.goodsId, this.editGoodsForm)\r\n\r\n        if (res.meta.status !== 200) return this.$msg.error('商品信息编辑失败')\r\n        this.$msg.success('商品信息编辑成功')\r\n        this.getGoodsList()\r\n        this.editGoodsDialogVisible = false\r\n      })\r\n    },\r\n    //监听对话框关闭\r\n    editGoodsDialogClose() {\r\n      this.$refs.editGoodsFormRef.resetFields()\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodsList()\r\n  }\r\n}\r\n</script>\r\n \r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=21f55370&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21f55370\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}